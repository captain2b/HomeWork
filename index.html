<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Epam ODM</title>
    <link rel="stylesheet" href="style.css"/>
    <link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">
    <link rel="icon"
          type="image/png"
          href="img/favicon.png">
</head>
<body>
<header>

    <a class="logo" href="/">
        <img src="img/logo.png" alt="epam"/>
    </a>
    <a class="odm" href="#">
        odm
    </a>
    <span class="up-search"></span>
</header>
<nav>
    <ul>
        <li class="link home"><a href="#">Home</a></li>
        <li class="dropdown link documents"><a href="#">Documents</a>
            <ul style="display: none">
                <li class="link incomDocs"><a href="#">Incoming DOCUMENTS<span>&#xf067</span></a></li>
                <li><a href="#">outgoing DOCUMENTS </a></li>
                <li><a href="#">  fax DOCUMENTS</a></li>
                <li><a href="#"> Powers of attorney</a></li>
                <li><a href="#"> manuals</a></li>
                <li><a href="#"> Orders</a></li>
                <li><a href="#"> contracts</a></li>
                <li><a href="#">Other documents</a></li>

            </ul>
        </li>
        <li class="link calendar"><a href="#">CALENDAR</a></li>
        <li class="link archive"><a href="#">ARCHIVE</a></li>
        <li class="link nom"><a href="#">Nomenclature</a></li>
        <li class="link org"><a href="#">Organizations</a></li>
    </ul>
</nav>
<main>
    <section class="top">
        <button onclick="myDropdown(0)" class="btncreate dropbtn">Create document</button>
        <ul id="myDropdown" class="dropdown-content">
            <li>Incoming Document</li>
            <li>Outgoing Document</li>
            <li>Fax Document</li>
            <li>Warrant</li>
            <li>Job Description</li>
            <li class=" dropdown dropdownBtn"><a>Contract</a>
            <ul class="innerBtnMenu">
                <li>Rent</li>
                <li>Construction </li>
                <li>Security services</li>
                <li>Sponsorship </li>
                <li>Maintenance services</li>
                <li>Furniture/chairs supply</li>
                <li>Software development and delivery</li>
                <li>Licences</li>
                <li>HW supply</li>
                <li>NDA </li>
                <li>Services</li>
                <li>Supply</li>
                <li>Work contract</li>
                <li>Contract with individuals</li>
                <li>Education, seminars & trainings</li>
                <li>Travel</li>
                <li>Other</li>
        </ul></li></ul>
        <button onclick="myDropdown(1)" class="btnattach dropbtn">Attach document</button>
        <ul id="myDropdown2" class="dropdown-content2">
            <li>Contract</li>
            <li class="dropdown dropdownBtn"><a>Annex</a>
                <ul class="innerBtnMenu">
                    <li>Sponsorship </li>
                    <li>Maintenance services</li>
                    <li>Furniture/chairs supply</li>
                    <li>Software development and delivery</li>
                    <li>Licences</li>
                    <li>HW supply</li>
                    <li>NDA </li>
                    <li>Services</li>
                    <li>Supply</li>
                    <li>Work contract</li>
                    <li>Contract with individuals</li>
                    <li>Education, seminars & trainings</li>
                    <li>Travel</li>
                    <li>Other</li></ul></li></ul>
        <form action="#">
            <input type="text" placeholder="Search"/>
            <button id="choose" type="submit">&#xf0d7</button>
            <button id="search" type="submit">&#xf002</button>
            <button id="plus" type="submit">&#xf00e</button>
        </form>
    </section>
    <section class="content">

        <ul>
            <li class="tablink" onclick="openTab(event,'created')">
                <a href="#">created by me</a>
            </li>
            <li class="tablink activetab" onclick="openTab(event,'under')">
                <a href="#">under my approval</a>
            </li>
            <li class="tablink" onclick="openTab(event,'sent')">
                <a href="#">sent for group</a>
            </li>
        </ul>
            <div id="created" class=" tab" style="display:none">
                <h1>My documents</h1>
                <div id="myTable"></div>

            </div>

            <div id="under" class="tab" >
                <section class="incoming">

                    <h1>Incoming documents</h1>
                    <div  id="incomingTable"></div>

                </section>
                <section class="outgoing">
                    <h1>Outgoing documents</h1><a>Add element</a>
                    <div id="outgoingTable"></div>
                </section>
                <section class="fax">
                    <h1>Fax documents</h1><a>Add element</a>
                    <div id="faxTable"></div>

                </section>

            </div>

            <div id="sent" class="tab" style="display:none">
                <h1>Sent documents</h1>
                <div id="sentTable"></div>
            </div>

    </section>

</main>
<footer>
    <span>Powered by <a href="#">EPAM Systems</a></span>
    <ul>

        <li><a href="#">Report a bug</a></li>
        <li><a href="#">Help</a></li>
        <li><a href="#"> About</a></li>
    </ul>
</footer>
<script>function openTab(evt, tabName) {
        var i, x, tablinks;
        x = document.getElementsByClassName("tab");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        if(x==document.getElementById("created")){loadTable('myTable');}
        else if(x.id=='sent'){loadTable('sentTable');}
        else{}
        tablinks = document.getElementsByClassName("tablink");
        for (i = 0; i < x.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" activetab", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " activetab";
    }
</script>
<script>
    var acc = document.getElementsByClassName("dropdown");
    var i;

    for (i = 0; i < acc.length; i++) {
        acc[i].onclick = function(){
            this.classList.toggle("active");
            var internalMenu = this.lastElementChild;
            if (internalMenu.style.display === "block") {
                internalMenu.style.display = "none";
            } else {
                internalMenu.style.display = "block";
            }
        }
    }
</script>
<script>
    /* When the user clicks on the button,
     toggle between hiding and showing the dropdown content */
    function myDropdown(n) {
       if(n==0)
        document.getElementById("myDropdown").classList.toggle("show");
       if(n==1){
           document.getElementById("myDropdown2").classList.toggle("show");
       }

    }

    // Close the dropdown if the user clicks outside of it
    window.onclick = function(n,event) {
        if (!event.target.matches('.dropbtn')) {
            if(n==0)
                var dropdowns = document.getElementsByClassName("dropdown-content");
            if(n==1){
                var dropdowns = document.getElementsByClassName("dropdown-content2");
            }
            var i;
            for (i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                }
            }
        }
    }
</script>
<script>

    loadTable('incomingTable');
    loadTable('outgoingTable');
    loadTable('faxTable');

    function loadTable(tableID){
        var request = new XMLHttpRequest();
        request.open('GET', tableID+'.json', true);
        request.onload = function () {
            if (request.status >= 200 && request.status < 400) {
                var table = JSON.parse(request.responseText);
                storeTable(table,tableID);
            } else {
                alert("Error " +request.status + ': ' + request.statusText);
            }
        };
        request.send();
    }
    function storeTable(table,tableID){

        var thead='';
        for(var key in table[0]) {
            thead+= table[0][key];
        }
        var txt= '<tbody>';
        for(var i = 1; i < table.length; i++)
        {
            var obj = table[i];
            txt+='<tr>';
            for(var key in obj) {
                txt += '<td>' + obj[key]+'</td>';
            }
            txt+='</tr>';
        }
        txt+='</tbody></table>';
        document.getElementById(tableID).innerHTML=thead+txt;}
</script>
<script>
    function underline(n,tableID,dir) {
        var hr = document.getElementById(tableID).getElementsByTagName("TH");

            for (var i = 0; i < hr.length - 1; i++) {
                if (i == n) {
                    hr[i].classList.add("tableSorted");
                    if (dir == "asc"){
                        hr[i].classList.add("reverse");
                    }
                    else {
                        hr[i].classList.remove("reverse");}
                }
                else {
                    hr[i].classList.remove("tableSorted");
                }
            }

    }
    function sortTable(n,tableID) {
    var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
    table = document.getElementById(tableID);
    switching = true;
    //Set the sorting direction to ascending:
    dir = "asc";
    underline(n,tableID,dir);
    /*Make a loop that will continue until
     no switching has been done:*/
    while (switching) {
        //start by saying: no switching is done:
        switching = false;
        rows = table.getElementsByTagName("TR");
        /*Loop through all table rows (except the
         first, which contains table headers):*/
        for (i = 1; i < (rows.length - 1); i++) {
            //start by saying there should be no switching:
            shouldSwitch = false;
            /*Get the two elements you want to compare,
             one from current row and one from the next:*/
            x = rows[i].getElementsByTagName("TD")[n];
            y = rows[i + 1].getElementsByTagName("TD")[n];
            /*check if the two rows should switch place,
             based on the direction, asc or desc:*/
            if (dir == "asc") {
                if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
                    //if so, mark as a switch and break the loop:
                    shouldSwitch= true;
                    break;
                }
            } else if (dir == "desc") {
                if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
                    //if so, mark as a switch and break the loop:
                    shouldSwitch= true;
                    break;
                }
            }
        }
        if (shouldSwitch) {
            /*If a switch has been marked, make the switch
             and mark that a switch has been done:*/
            rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
            switching = true;
            //Each time a switch is done, increase this count by 1:
            switchcount ++;
        } else {
            /*If no switching has been done AND the direction is "asc",
             set the direction to "desc" and run the while loop again.*/
            if (switchcount == 0 && dir == "asc") {
                dir = "desc";
                switching = true;
                underline(n,tableID,dir);
            }
        }
    }
}
</script>
</body>
</html>